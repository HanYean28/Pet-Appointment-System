@model PawfectGrooming.Models.LoginVM
@using Microsoft.Extensions.Localization
@inject IStringLocalizer<PawfectGrooming.Resources.Resources> Localizer
@using System.Globalization


@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_Layout.cshtml";
	var returnUrl = ViewBag.ReturnUrl as string ?? "";
}
@section Scripts {
    <script>
        function getCookie(name) {
            const value = "; " + document.cookie;
            const parts = value.split("; " + name + "=");
            if (parts.length === 2) return parts.pop().split(";").shift();
        }

        const infoMsg = getCookie('Info');
        if (infoMsg) {
            alert(decodeURIComponent(infoMsg)); // Show alert
            // Remove the cookie so it doesn't show again
            document.cookie = "Info=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
        }
    </script>
}

<form class="form" method="post">
    <h6 class="section-title">@Localizer["Login"]</h6>
    <p class="form-description">
        @Localizer["Login_Description"]
    </p>

    <div class="form-group">
    <label>@Localizer["Email"]</label>
    <input asp-for="Email" autofocus>
    <span asp-validation-for="Email"></span>
    </div>

    <div class="form-group">
    <label>@Localizer["Password"]</label>
    <input asp-for="Password">
    <span asp-validation-for="Password"></span>
    </div>

    <div class="form-group">
        <div class="form-remember-wrapper">
            <label class="form-remember">
                <input asp-for="RememberMe">@Localizer["Remember Me"]
            </label>
            <a href="/Account/ResetPassword">@Localizer["Forgot Password"]</a>
        </div>
    </div>
    

    <div class="form-actions">
        <input type="hidden" name="returnUrl" value="@returnUrl" />
        <button class="btn-login-long" type="submit">@Localizer["Login"]</button>
    </div>

    <div class="form-links">
    <a href="/Account/Register">@Localizer["New User"]</a>
    </div>

</form>

